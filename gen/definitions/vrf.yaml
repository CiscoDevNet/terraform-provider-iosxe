---
name: VRF
path: /Cisco-IOS-XE-native:native/vrf/definition[name=%s]
doc_category: VRF
attributes:
  - yang_name: name
    example: VRF22
  - yang_name: description
    example: VRF22 description
  - yang_name: rd-auto
    example: true
    exclude_test: true
  - yang_name: rd
    requires_replace: true
    example: 22:22
  - yang_name: address-family/ipv4
    example: true
  - yang_name: address-family/ipv6
    example: true
  - yang_name: vpn/id
    example: 22:22
  - yang_name: route-target/import
    type: Set
    exclude_test: true
    attributes:
      - yang_name: asn-ip
        tf_name: value
        description: Value
        example: 22:22
        id: true
      - yang_name: stitching
        example: false
  - yang_name: route-target/export
    type: Set
    exclude_test: true
    attributes:
      - yang_name: asn-ip
        tf_name: value
        description: Value
        example: 22:22
        id: true
      - yang_name: stitching
        example: false
  - yang_name: address-family/ipv4/route-target/import-route-target/without-stitching
    tf_name: ipv4_route_target_import
    type: Set
    attributes:
      - yang_name: asn-ip
        tf_name: value
        description: Value
        example: 22:22
        id: true
  - yang_name: address-family/ipv4/route-target/import-route-target/with-stitching
    tf_name: ipv4_route_target_import_stitching
    type: Set
    attributes:
      - yang_name: asn-ip
        tf_name: value
        description: Value
        example: 22:22
        id: true
      - yang_name: stitching
        default_value: true
        exclude_test: true
        example: true
  - yang_name: address-family/ipv4/route-target/export-route-target/without-stitching
    tf_name: ipv4_route_target_export
    type: Set
    attributes:
      - yang_name: asn-ip
        tf_name: value
        description: Value
        example: 22:22
        id: true
  - yang_name: address-family/ipv4/route-target/export-route-target/with-stitching
    tf_name: ipv4_route_target_export_stitching
    type: Set
    attributes:
      - yang_name: asn-ip
        tf_name: value
        description: Value
        example: 22:22
        id: true
      - yang_name: stitching
        default_value: true
        exclude_test: true
        example: true
  - yang_name: address-family/ipv4/route-replicate/from/vrf
    tf_name: ipv4_route_replicate
    type: List
    attributes:
      - yang_name: name
        description: Source VRF name or 'global'
        example: VRF1
        id: true
      - yang_name: unicast/source-proto-config/all
        tf_name: unicast_all
        example: true
      - yang_name: unicast/source-proto-config/all/route-map
        tf_name: unicast_all_route_map
        description: Route map reference
        example: RM1
  - yang_name: address-family/ipv6/route-target/import-route-target/without-stitching
    tf_name: ipv6_route_target_import
    type: Set
    attributes:
      - yang_name: asn-ip
        tf_name: value
        description: Value
        example: 22:22
        id: true
  - yang_name: address-family/ipv6/route-target/import-route-target/with-stitching
    tf_name: ipv6_route_target_import_stitching
    type: Set
    attributes:
      - yang_name: asn-ip
        tf_name: value
        description: Value
        example: 22:22
        id: true
      - yang_name: stitching
        default_value: true
        exclude_test: true
        example: true
  - yang_name: address-family/ipv6/route-target/export-route-target/without-stitching
    tf_name: ipv6_route_target_export
    type: Set
    attributes:
      - yang_name: asn-ip
        tf_name: value
        description: Value
        example: 22:22
        id: true
  - yang_name: address-family/ipv6/route-target/export-route-target/with-stitching
    tf_name: ipv6_route_target_export_stitching
    type: Set
    attributes:
      - yang_name: asn-ip
        tf_name: value
        description: Value
        example: 22:22
        id: true
      - yang_name: stitching
        default_value: true
        exclude_test: true
        example: true
  - yang_name: address-family/ipv4/mdt/default/address
    tf_name: ipv4_mdt_default_address
    description: MDT default group IPv4 address
    example: 239.1.1.1
  - yang_name: address-family/ipv4/mdt/auto-discovery/auto-discovery/vxlan/vxlan-config/vxlan
    xpath: address-family/ipv4/mdt/auto-discovery/vxlan-config/vxlan
    tf_name: ipv4_mdt_auto_discovery_vxlan
    description: Enable BGP auto-discovery for VxLAN
    example: true
    test_tags: [C9000V]
  - yang_name: address-family/ipv4/mdt/auto-discovery/auto-discovery/vxlan/vxlan-config/inter-as
    xpath: address-family/ipv4/mdt/auto-discovery/vxlan-config/inter-as
    tf_name: ipv4_mdt_auto_discovery_vxlan_inter_as
    description: Enable Inter-AS BGP auto-discovery for VxLAN
    example: true
    test_tags: [C9000V]
  - yang_name: address-family/ipv4/mdt/auto-discovery/auto-discovery/interworking/interworking/interworking/vxlan-pim/vxlan-pim-config/vxlan-pim
    xpath: address-family/ipv4/mdt/auto-discovery/interworking/vxlan-pim-config/vxlan-pim
    tf_name: ipv4_mdt_auto_discovery_interworking_vxlan_pim
    description: Enable BGP auto-discovery for VxLAN PIM interworking
    exclude_test: true
    example: true
  - yang_name: address-family/ipv4/mdt/auto-discovery/auto-discovery/interworking/interworking/interworking/vxlan-pim/vxlan-pim-config/inter-as
    xpath: address-family/ipv4/mdt/auto-discovery/interworking/vxlan-pim-config/inter-as
    tf_name: ipv4_mdt_auto_discovery_interworking_vxlan_pim_inter_as
    description: Enable Inter-AS BGP auto-discovery for VxLAN PIM interworking
    exclude_test: true
    example: true
  - yang_name: address-family/ipv4/mdt/overlay/use-bgp-config
    tf_name: ipv4_mdt_overlay_use_bgp
    description: Enable BGP for MDT overlay signaling
    example: true
    test_tags: [C9000V]
  - yang_name: address-family/ipv4/mdt/overlay/use-bgp-config/spt-only
    tf_name: ipv4_mdt_overlay_use_bgp_spt_only
    description: Enable Shortest path tree-only ASM mode
    example: true
    test_tags: [C9000V]
  - yang_name: address-family/ipv4/mdt/data/multicast
    tf_name: ipv4_mdt_data_multicast
    type: List
    description: MDT data multicast group ranges
    attributes:
      - yang_name: address
        description: Multicast group base address
        example: 239.1.2.0
        id: true
      - yang_name: wildcard
        description: Wildcard mask for address range
        example: 0.0.0.255
        id: true
      - yang_name: list
        description: Access-list for group range
        example: ACL_MDT
        exclude_test: true
  - yang_name: address-family/ipv4/mdt/data/threshold
    tf_name: ipv4_mdt_data_threshold
    description: MDT switching threshold in Kbps (1-4294967)
    example: 50
test_prerequisites:
  - path: Cisco-IOS-XE-native:native/vrf/definition[name=VRF1]
    no_delete: true
    attributes:
      - name: name
        value: VRF1
      - name: address-family/ipv4
        value: ""
  - path: Cisco-IOS-XE-native:native/route-map[name=RM1]
    attributes:
      - name: name
        value: RM1
