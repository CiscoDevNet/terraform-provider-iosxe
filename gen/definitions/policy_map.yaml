---
name: Policy Map
path: /Cisco-IOS-XE-native:native/policy/Cisco-IOS-XE-policy:policy-map[name=%v]
doc_category: QoS
no_delete_attributes: true
attributes:
  - yang_name: name
    id: true
    example: POLICY1
  - yang_name: type
    example: control
    exclude_test: true
  - yang_name: subscriber
    example: true
    exclude_test: true
  - yang_name: description
    example: My first policy-map
  - yang_name: class
    tf_name: classes
    type: List
    attributes:
      - yang_name: name
        id: true
        example: CLASS1
      - yang_name: action-list
        tf_name: actions
        type: List
        attributes:
          - yang_name: action-type
            tf_name: type
            id: true
            example: bandwidth
          - yang_name: action-param/bandwidth-case/bandwidth/bits
            xpath: bandwidth/bits
            tf_name: bandwidth_bits
            example: 1000000
            exclude_test: true
          - yang_name: action-param/bandwidth-case/bandwidth/percent
            xpath: bandwidth/percent
            tf_name: bandwidth_percent
            example: 10
          - yang_name: action-param/bandwidth-case/bandwidth/remaining/rem-option
            xpath: bandwidth/remaining/rem-option
            tf_name: bandwidth_remaining_option
            example: percent
            exclude_test: true
          - yang_name: action-param/bandwidth-case/bandwidth/remaining/percent
            xpath: bandwidth/remaining/percent
            tf_name: bandwidth_remaining_percent
            example: 10
            exclude_test: true
          - yang_name: action-param/bandwidth-case/bandwidth/remaining/ratio
            xpath: bandwidth/remaining/ratio
            tf_name: bandwidth_remaining_ratio
            example: 100
            exclude_test: true
          - yang_name: action-param/priority-case/priority/level
            xpath: priority/level
            tf_name: priority_level
            example: 1
            exclude_test: true
          - yang_name: action-param/priority-case/priority/burst
            xpath: priority/burst
            tf_name: priority_burst
            example: 10000
            exclude_test: true
          - yang_name: action-param/queue-limit-case/queue-limit/queue-limit-value
            xpath: queue-limit/queue-limit-value
            tf_name: queue_limit
            example: 10000
            exclude_test: true
          - yang_name: action-param/queue-limit-case/queue-limit/queue-limit-type
            xpath: queue-limit/queue-limit-type
            tf_name: queue_limit_type
            example: ms
            exclude_test: true
          - yang_name: action-param/shape-case/shape/average/average-choice/a/bit-rate
            xpath: shape/average/bit-rate
            tf_name: shape_average_bit_rate
            example: 1000
            exclude_test: true
          - yang_name: action-param/shape-case/shape/average/average-choice/a/bits-per-interval-sustained
            xpath: shape/average/bits-per-interval-sustained
            tf_name: shape_average_bits_per_interval_sustained
            example: 1000
            exclude_test: true
          - yang_name: action-param/shape-case/shape/average/average-choice/a/bits-per-interval-excess
            xpath: shape/average/bits-per-interval-excess
            tf_name: shape_average_bits_per_interval_excess
            example: 1000
            exclude_test: true
          - yang_name: action-param/shape-case/shape/average/average-choice/b/percent
            xpath: shape/average/percent
            tf_name: shape_average_percent
            example: 10
            exclude_test: true
          - yang_name: action-param/shape-case/shape/average/average-choice/b/burst-size-sustained
            xpath: shape/average/burst-size-sustained
            tf_name: shape_average_burst_size_sustained
            example: 1000
            exclude_test: true
          - yang_name: action-param/shape-case/shape/average/average-choice/b/ms
            xpath: shape/average/ms
            tf_name: shape_average_ms
            example: 1000
            exclude_test: true
          - yang_name: action-param/police-case/police-choice/police-target-bitrate-case/police-target-bitrate/police/actions/conform-transmit/conform-action/transmit
            xpath: police-target-bitrate/police/actions/conform-transmit/conform-action/transmit
            tf_name: police_target_bitrate_conform_transmit
            example: true
            exclude_test: true
          - yang_name: action-param/police-case/police-choice/police-target-bitrate-case/police-target-bitrate/police/actions/exceed-transmit/exceed-action/transmit
            xpath: police-target-bitrate/police/actions/exceed-transmit/exceed-action/transmit
            tf_name: police_target_bitrate_exceed_transmit
            example: true
            exclude_test: true
          - yang_name: action-param/police-case/police-choice/police-target-bitrate-case/police-target-bitrate/police/bit-rate
            xpath: police-target-bitrate/police/bit-rate
            tf_name: police_target_bitrate
            example: 1000
            exclude_test: true
          - yang_name: action-param/police-case/police-choice/police-target-bitrate-case/police-target-bitrate/police/confirm_burst-byte
            xpath: police-target-bitrate/police/confirm_burst-byte
            tf_name: police_target_bitrate_conform_burst_byte
            example: 10000
            exclude_test: true
          - yang_name: action-param/police-case/police-choice/police-target-bitrate-case/police-target-bitrate/police/excess_burst-byte
            xpath: police-target-bitrate/police/excess_burst-byte
            tf_name: police_target_bitrate_excess_burst_byte
            example: 10000
            exclude_test: true
          - yang_name: action-param/police-case/police-choice/police-target-bitrate-case/police-target-bitrate/police/actions/exceed-drop/exceed-action/drop
            xpath: police-target-bitrate/police/actions/exceed-drop/exceed-action/drop
            tf_name: police_target_bitrate_exceed_drop
            example: true
            exclude_test: true
          - yang_name: action-param/police-case/police-choice/police-policy-map-case/police-policy-map/police/cir-bc-choice/cir-bc/cir
            xpath: police-policy-map/police/cir
            tf_name: police_cir
            example: 1000000
            exclude_test: true
          - yang_name: action-param/police-case/police-choice/police-policy-map-case/police-policy-map/police/cir-bc-choice/cir-bc/bc
            xpath: police-policy-map/police/bc
            tf_name: police_bc
            example: 8192
            exclude_test: true
          - yang_name: action-param/police-case/police-choice/police-policy-map-case/police-policy-map/police/be
            xpath: police-policy-map/police/be
            tf_name: police_be
            example: 8192
            exclude_test: true
          - yang_name: action-param/police-case/police-choice/police-policy-map-case/police-policy-map/police/pir
            xpath: police-policy-map/police/pir
            tf_name: police_pir
            example: 2000000
            exclude_test: true
          - yang_name: action-param/police-case/police-choice/police-policy-map-case/police-policy-map/police/pir-be/be
            xpath: police-policy-map/police/pir-be/be
            tf_name: police_pir_be
            example: 8192
            exclude_test: true
          - yang_name: action-param/police-case/police-choice/police-policy-map-case/police-policy-map/police/actions/conform-transmit/conform-action/transmit
            xpath: police-policy-map/police/actions/conform-transmit/conform-action/transmit
            tf_name: police_cir_conform_transmit
            example: true
            exclude_test: true
          - yang_name: action-param/police-case/police-choice/police-policy-map-case/police-policy-map/police/actions/exceed-drop/exceed-action/drop
            xpath: police-policy-map/police/actions/exceed-drop/exceed-action/drop
            tf_name: police_cir_exceed_drop
            example: true
            exclude_test: true
          - yang_name: action-param/police-case/police-choice/police-rate-percent-case/police-rate-percent/police/rate/percent/percentage
            xpath: police-rate-percent/police/rate/percent/percentage
            tf_name: police_rate_percent
            example: 10
            exclude_test: true
          - yang_name: action-param/queue-buffers-case/queue-buffers/ratio
            xpath: queue-buffers/ratio
            tf_name: queue_buffers_ratio
            example: 10
            test_tags: [C9000V]
            exclude_test: true
          - yang_name: action-param/set-case/set/dscp/dscp-val
            xpath: set/dscp/dscp-val
            tf_name: set_dscp
            example: ef
            exclude_test: true

test_prerequisites:
  - path: /Cisco-IOS-XE-native:native/policy/Cisco-IOS-XE-policy:class-map[name=CLASS1]
    attributes:
      - name: name
        value: CLASS1
      - name: prematch
        value: match-all
